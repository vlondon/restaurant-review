<%= render_meta_tags({'og:site_name' => @topic.label}) %>

<%- if @restaurant && !@restaurant.new_record? -%>
  <%= render_meta_tags({
      'og:type' => @topic.og_type || @topic.name,
      'og:title' => @restaurant.name,
      'og:description' => @meta_description || strip_tags(truncate(@restaurant.description.to_s.strip.gsub(/\n/, ' '), 200, "...")),
      'og:url' => event_or_restaurant_url(@restaurant)}) %>

  <%- if first_image = @restaurant.rand_image -%>
    <%= render_meta_tags({'og:image' => "http://#{request.host}#{request.port != 80 ? ":#{request.port}" : ''}#{first_image.public_filename(:large)}"})%>
  <%- else -%>
    <%= render_meta_tags({'og:image' => "http://#{request.host}#{request.port != 80 ? ":#{request.port}" : ''}#{@topic.banner_image_path}"})%>
  <%- end -%>

  <%- if @restaurant.located_in_map? -%>
    <%= render_meta_tags({
        'og:latitude' => @restaurant.lat,
        'og:longitude' => @restaurant.lng,
        'og:street-address' => @restaurant.address,
        'og:country-name' => @restaurant.country}) %>
  <%- end -%>
  <%- if @restaurant.respond_to?(:string1) && @restaurant.string1.present? -%>
    <%= render_meta_tags({'og:phone_number' => @restaurant.string1})%>
  <%- end -%>
<%- else -%>
  <%= render_meta_tags({
      'og:title' => "#{@topic ? (@site_title ? "#{@site_title} - " : '') : ''}#{@topic.site_title}",
      'og:description' => @meta_description || 'Bangladeshi and Dhaka Restaurant, cafe & eat out place review site',
      'og:url' => request.url,
      'og:image' => "http://#{request.host}#{request.port != 80 ? ":#{request.port}" : ''}#{@topic.banner_image_path}"})%>
<%- end -%>

<%= render_meta_tags({'fb:app_id' => @topic.fb_id, 'fb:admins' => @topic.fb_admins}) %>
